

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Domains &mdash; CreMA 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/crema_theme.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo-doc.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/getting30s.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/requirements.html">Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notes/requirements.html#system">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notes/requirements.html#package-dependencies">Package Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes/installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/modeldef.html">Model Definition</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notes/modeldef.html#credal-set-specification">Credal Set Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notes/modeldef.html#credal-network-specification">Credal Network Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes/guideinference.html">Credal Inference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://idsia.github.io/credici/javadoc/">JavaDoc</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/contact.html">Contact and Support</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CreMA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Domains</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials/domains.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="domains">
<h1>Domains<a class="headerlink" href="#domains" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#domain-interface" id="id1">Domain interface</a></p></li>
<li><p><a class="reference internal" href="#simpledomain" id="id2">SimpleDomain</a></p></li>
<li><p><a class="reference internal" href="#domainbuilder" id="id3">DomainBuilder</a></p></li>
<li><p><a class="reference internal" href="#strides" id="id4">Strides</a></p></li>
</ul>
</div>
<div class="section" id="domain-interface">
<h2><a class="toc-backref" href="#id1">Domain interface</a><a class="headerlink" href="#domain-interface" title="Permalink to this headline">¶</a></h2>
<p>Domains in Crema are located in the <code class="code docutils literal notranslate"><span class="pre">ch.idsia.crema.model</span></code> package.
They are all instances of the <code class="code docutils literal notranslate"><span class="pre">Domain</span></code> interface.
This simple interface declares basic methods to query the domain about variables and their cardinality.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Domain</span> <span class="n">domain</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">domain</span><span class="p">.</span><span class="na">getSizes</span><span class="p">();</span>
<span class="n">domain</span><span class="p">.</span><span class="na">getVariables</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returned arrays should never be modified!</p>
</div>
</div>
<div class="section" id="simpledomain">
<h2><a class="toc-backref" href="#id2">SimpleDomain</a><a class="headerlink" href="#simpledomain" title="Permalink to this headline">¶</a></h2>
<p>The simplest implementation of the <code class="code docutils literal notranslate"><span class="pre">Domain</span></code> interface is the <code class="code docutils literal notranslate"><span class="pre">SimpleDomain</span></code>.
This class encapsulates two integer arrays. One with the variable labels and one with their cardinality.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Domain</span> <span class="n">domain</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDomain</span><span class="p">(</span>
    <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span> <span class="p">},</span> <span class="c1">// variables 1, 4, 6</span>
    <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="p">{</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">}</span>  <span class="c1">// the corresponding cardinalities</span>
<span class="p">);</span>

<span class="n">assertTrue</span><span class="p">(</span><span class="n">domain</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When creating a <code class="code docutils literal notranslate"><span class="pre">SimpleDomain</span></code> the list of variables must be sorted!
Crema will <strong>not</strong> automatically sort them, but for some operations will assume they are.</p>
</div>
</div>
<div class="section" id="domainbuilder">
<h2><a class="toc-backref" href="#id3">DomainBuilder</a><a class="headerlink" href="#domainbuilder" title="Permalink to this headline">¶</a></h2>
<p>While creating a <code class="code docutils literal notranslate"><span class="pre">SimpleDomain</span></code> by passing the arrays of variables and their sizes is possible and valid,
a slightly more friendly method is available using the <code class="code docutils literal notranslate"><span class="pre">DomainBuilder</span></code>.
Laveraging the ellipses of Java the <code class="code docutils literal notranslate"><span class="pre">DomainBuilder</span></code> class avoids the explicit creation of the arrays as shown in the following example.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Domain</span> <span class="n">dom</span> <span class="o">=</span> <span class="n">DomainBuilder</span><span class="p">.</span><span class="na">var</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">).</span><span class="na">size</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="strides">
<h2><a class="toc-backref" href="#id4">Strides</a><a class="headerlink" href="#strides" title="Permalink to this headline">¶</a></h2>
<p>A more sophisticated and more frequently used implementation of the <code class="code docutils literal notranslate"><span class="pre">Domain</span></code> interface is the <code class="code docutils literal notranslate"><span class="pre">Strides</span></code> class.
In addition to the arrays of variables and their cardinality, this class caches the cumulative sizes of the variables in the provided order.
The access to this additional array is seldomly required by the end-user. They are mostly used
to index parts of a probability table.</p>
<p>The Strides class offers a much richer set of functionalities both
related to the domain itself and the aforementioned indexing of probability tables.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The variable’s cardinalities are accumlated starting from the variable at index 0.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Strides</span> <span class="n">domain</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Strides</span><span class="p">(</span>
    <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span> <span class="p">},</span> <span class="c1">// variables 1, 4, 6</span>
    <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="p">{</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">}</span>  <span class="c1">// the corresponding cardinalities</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Again, just as with the <code class="code docutils literal notranslate"><span class="pre">SimpleDomain</span></code>, creating the object specifying the arrays is valid, but not the most readable solution.
The following example shows an alternative way of creation where variables are added along with their cardinality.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Strides</span> <span class="n">other</span> <span class="o">=</span> <span class="n">Strides</span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">).</span><span class="na">and</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">).</span><span class="na">and</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<p>Alternative ways to create strides are based on operations on them. Generally Domains are considered unmutable objects and any alteration will result in a new instance.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// remove variable 4 and 6</span>
<span class="n">Strides</span> <span class="n">smaller</span> <span class="o">=</span> <span class="n">domain</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">);</span> 
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>